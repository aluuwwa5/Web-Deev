{"ast":null,"code":"import { categories } from \"../categories\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../product-item/product-item.component\";\nfunction ProductListComponent_div_0_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"app-product-item\", 2);\n    i0.ɵɵlistener(\"remove\", function ProductListComponent_div_0_div_2_Template_app_product_item_remove_1_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.removeProduct($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"product\", product_r2);\n  }\n}\nfunction ProductListComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, ProductListComponent_div_0_div_2_Template, 2, 1, \"div\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.category.title, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.category.items);\n  }\n}\nexport class ProductListComponent {\n  constructor(route) {\n    this.route = route;\n  }\n  shareViaTelegram(product) {\n    window.open(\"https://telegram.me/share/url?url=\" + product.link + \"&text=<{{product.name}}>\");\n  }\n  shareViaWhatsapp(product) {\n    window.open(\"https://wa.me/?text=\" + product.link);\n  }\n  removeProduct(id) {\n    // @ts-ignore\n    this.category.items = this.category.items.filter(x => x.id);\n  }\n  ngOnInit() {\n    const routeParams = this.route.snapshot.paramMap;\n    const categoryIdFromRoute = Number(routeParams.get('categoryId'));\n    this.category = categories.find(category => category.id === categoryIdFromRoute);\n  }\n}\nProductListComponent.ɵfac = function ProductListComponent_Factory(t) {\n  return new (t || ProductListComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\nProductListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductListComponent,\n  selectors: [[\"app-product-list\"]],\n  decls: 1,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [3, \"product\", \"remove\"]],\n  template: function ProductListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ProductListComponent_div_0_Template, 3, 2, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.category);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ProductItemComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZHVjdC1saXN0L3Byb2R1Y3QtbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0NBSUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG5Db3B5cmlnaHQgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cclxuVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdFxyXG5jYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxyXG4qL1xyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"AAEA,SAAQA,UAAU,QAAiB,eAAe;;;;;;;;ICC9CC,2BAA4C;IACFA;MAAAA;MAAA;MAAA,OAAUA,2CAAqB;IAAA,EAAC;IAACA,iBAAmB;;;;IAAxEA,eAAmB;IAAnBA,oCAAmB;;;;;IAJ7CA,2BAAsB;IAClBA,YAEA;IAAAA,2EAEM;IACVA,iBAAM;;;;IALFA,eAEA;IAFAA,sDAEA;IAAyBA,eAAiB;IAAjBA,+CAAiB;;;ADQ9C,OAAM,MAAOC,oBAAoB;EAG/BC,YAAoBC,KAAsB;IAAtB,UAAK,GAALA,KAAK;EACzB;EACAC,gBAAgB,CAACC,OAAyB;IACtCC,MAAM,CAACC,IAAI,CAAC,oCAAoC,GAAGF,OAAO,CAACG,IAAI,GAAG,0BAA0B,CAAC;EACjG;EACAC,gBAAgB,CAACJ,OAAyB;IACxCC,MAAM,CAACC,IAAI,CAAC,sBAAsB,GAAGF,OAAO,CAACG,IAAI,CAAC;EACpD;EAEAE,aAAa,CAACC,EAAW;IACvB;IACA,IAAI,CAACC,QAAQ,CAACC,KAAK,GAAG,IAAI,CAACD,QAAQ,CAACC,KAAK,CAACC,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACJ,EAAE,CAAC;EAC/D;EAEAK,QAAQ;IACN,MAAMC,WAAW,GAAG,IAAI,CAACd,KAAK,CAACe,QAAQ,CAACC,QAAQ;IAChD,MAAMC,mBAAmB,GAAGC,MAAM,CAACJ,WAAW,CAACK,GAAG,CAAC,YAAY,CAAC,CAAC;IAEjE,IAAI,CAACV,QAAQ,GAAGb,UAAU,CAACwB,IAAI,CAACX,QAAQ,IAAIA,QAAQ,CAACD,EAAE,KAAKS,mBAAmB,CAAC;EAClF;;AAtBWnB,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA,oBAAoB;EAAAuB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCXjC5B,qEAMM;;;MANAA,mCAAc","names":["categories","i0","ProductListComponent","constructor","route","shareViaTelegram","product","window","open","link","shareViaWhatsapp","removeProduct","id","category","items","filter","x","ngOnInit","routeParams","snapshot","paramMap","categoryIdFromRoute","Number","get","find","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\KBTU\\IV semester\\Web Dev\\lab5\\src\\app\\product-list\\product-list.component.ts","C:\\KBTU\\IV semester\\Web Dev\\lab5\\src\\app\\product-list\\product-list.component.html"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\r\n\r\nimport {categories, Category} from \"../categories\";\r\n\r\nimport {ActivatedRoute} from \"@angular/router\";\r\n\r\n@Component({\r\n  selector: 'app-product-list',\r\n  templateUrl: './product-list.component.html',\r\n  styleUrls: ['./product-list.component.css'],\r\n})\r\nexport class ProductListComponent implements OnInit{\r\n  category : { id: number; title: string; items: { image: string; price: number; name: string; rating: number; link: string; description: string; id: number }[] } | { id: number; title: string; items: { image: string; price: number; name: string; rating: number; link: string; description: string; id: number }[] } | { id: number; title: string; items: ({ image: string; price: number; name: string; rating: number; link: string; description: string; id: number } | { image: string; price: number; name: string; rating: number; link: string; description: string; id: number })[] } | { id: number; title: string; items: ({ image: string; price: number; name: string; rating: number; link: string; description: string; id: number } | { image: string; price: number; name: string; rating: number; link: string; description: string; id: number } | { image: string; price: number; name: string; rating: number; link: string; description: string; id: number } | { image: string; price: number; name: string; rating: number; link: string; description: string; id: number })[] } | undefined;\r\n\r\n  constructor(private route : ActivatedRoute) {\r\n  }\r\n  shareViaTelegram(product : {link : string}) {\r\n      window.open(\"https://telegram.me/share/url?url=\" + product.link + \"&text=<{{product.name}}>\")\r\n  }\r\n  shareViaWhatsapp(product : {link : string}) {\r\n    window.open(\"https://wa.me/?text=\" + product.link)  \r\n  }\r\n\r\n  removeProduct(id : number){\r\n    // @ts-ignore\r\n    this.category.items = this.category.items.filter((x) => x.id)\r\n  }\r\n\r\n  ngOnInit() {\r\n    const routeParams = this.route.snapshot.paramMap;\r\n    const categoryIdFromRoute = Number(routeParams.get('categoryId'));\r\n\r\n    this.category = categories.find(category => category.id === categoryIdFromRoute);\r\n  }\r\n}\r\n\r\n/*\r\nCopyright Google LLC. All Rights Reserved.\r\nUse of this source code is governed by an MIT-style license that\r\ncan be found in the LICENSE file at https://angular.io/license\r\n*/\r\n","<div *ngIf=\"category\">\r\n    {{category.title}}\r\n\r\n    <div *ngFor=\"let product of category.items\">\r\n        <app-product-item [product]=\"product\" (remove)=\"removeProduct($event)\"></app-product-item>\r\n    </div>\r\n</div>\r\n\r\n<!-- \r\nCopyright Google LLC. All Rights Reserved.\r\nUse of this source code is governed by an MIT-style license that\r\ncan be found in the LICENSE file at https://angular.io/license\r\n-->\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}